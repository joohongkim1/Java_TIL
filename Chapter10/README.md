## Chapter 10. 자바 입출력



### 1. 자바 입출력 스트림

 #### 1) 입출력 스트림이란?

- 네트웍에서 자료의 흐름이 물과 같다는 의미에서 유래
- 다양한 입출력 장치에 독립적으로 일관성 있는 입출력 방식 제공
- 입출력이 구현 되는 곳에서는 모두 I/O 스트림을 사용 (키보드, 파일 디스크, 메모리 등)



#### 2) 입출력 스트림 구분

- I/O 대상 기준 : 입력 스트림, 출력 스트림
- 자료의 종류 : 바이트 스트림, 문자 스트림 
  - 바이트 스트림 : 바이트 단위로 자료를 읽고 씀(동영상, 음악 파일 등)
  - 문자 스트림 : 2바이트씩 처리
- 스트림의 기능 : 기반 스트림, 보조 스트림
  - 기반 스트림 : 대상에 직접 자료를 읽고 쓰는 기능의 스트림
  - 보조 스트림 : 직접 읽고 쓰는 기능은 없고 추가적인 기능을 제공해주는 스트림



### 2. 표준 입출력

#### 1) 표준 입출력

- System 클래스의 표준 입출력 멤버

  ```java
  public class System {
      public static PrintStream out; // 표준 출력 스트림
      public static InputStream in; // 표준 입력 스트림
      public static PrintStream err; // 표준 에러 스트림
  }
  ```


#### 2) Scanner 클래스

- java.util 패키지에 있는 입력 클래스

- 문자뿐 아니라 정수, 실수 등 다양한 자료형을 읽을 수 있음

- 생성자가 다양하여 여러 소스로부터 자료를 읽을 수 있음

  | 생성자                      | 설명                                            |
  | --------------------------- | ----------------------------------------------- |
  | Scanner(File source)        | 파일을 매개변수로 받아 Scanner 를 생성          |
  | Scanner(InputStream source) | 바이트 스트림을 매개변수로 받아 Scanner 를 생성 |
  | Scanner(String source)      | String 을 매개변수로 받아 Scanner 를 생성       |

  

### 3. 바이트 단위 입출력 스트림

#### 1) 바이트 단위 스트림

- InputStream : 바이트 단위 입력 스트림 최상위 클래스
- OutputStream : 바이트 단위 출력 스트림 최상위 클래스
- 추상 메서드를 포함한 추상 클래스로 하위 클래스가 구현하여 사용

#### 2) FileInputStream 과 FileOutputStream 사용

- 파일에 한 바이트씩 자료를 읽고 쓰는데 사용
- 입력 스트림은 파일이 없는 경우 예외 발생
- 출력 스트림은 파일이 없는 경우 파일 생성하여 출력



### 4. 문자 단위 스트림

- Reader : 문자 단위로 읽는 최상위 스트림

- Writer : 문자 단위로 쓰는 최상위 스트림

- 추상 메서드를 포함한 추상 클래스로 하위 클래스가 상속받아 구현

  |   스트림 클래스   |                             설명                             |
  | :---------------: | :----------------------------------------------------------: |
  |    FileReader     |           파일에서 문자 단위로 읽는 스트림 클래스            |
  | InputStreamReader | 바이트 단위로 읽은 자료를 문자로 변환해 주는 보조 스트림 클래스 |
  |  BufferedReader   | 문자로 읽을 때, 배열을 제공하여 한 번에 읽을 수 있는 기능 제공 |

  ** Writer 의 경우에도 같음

  

### 5. 보조 스트림

#### 1) 보조 스트림

- 실제 읽고 쓰는 스트림이 아닌 보조적인 기능을 추가하는 스트림
- FilterInputStream 과 FilterOutputStream 이 보조 스트림의 상위 클래스
- 생성자의 매개 변수로 또 다른 스트림을 가짐

#### 2) 여러가지 보조 스트림

- Buffered 스트림 : 내부에 8192 바이트 배열을 가지고 있음. 읽고 쓸 때 속도가 빠름
- DataInput(Output)Stream : 자료가 저장된 상태 그대로 자료형을 유지하며 읽거나 쓰는 기능을 제공하는 스트림



### 6. 직렬화 (Serialization)

#### 1) 직렬화 

- 인스턴스의 상태를 그대로 저장하거나 네트웍으로 전송하고 이를 다시 복원하는 방식
- ObjectInputStream 과 ObjectOutputStream 사용, 보조 스트림

#### 2) Serializable 인터페이스

- 직렬화는 인스턴스의 내용이 외부(파일, 네트웍)로 유출되는 것이므로 프로그래머가 객체의 직렬화 가능 여부를 명시함



### 7. 그 외 입출력 클래스와 데코레이터 패턴

#### 1) 입출력 클래스

- File 클래스
  - 파일 개념을 추상화한 클래스
  - 입출력 기능은 없고, 파일의 속성, 경로, 이름 등을 알 수 있음
- RandomAccessFile 클래스
  - 입출력 클래스 중 유일하게 파일 입출력을 동시에 할 수 있는 클래스
  - 파일 포인터가 있어서 읽고 쓰는 위치의 이동이 가능함
  - 다양한 자료형에 대한 메서드 제공

#### 2) 데코레이터 패턴

- 자바의 입출력 스트림은 데코레이터 패턴 사용
- 실제 입출력 기능을 가진 객체(컴포넌트)와 그 외 다양한 기능을 제공하는 데코레이터(보조 스트림) 을 사용하여 다양한 입출력 기능을 구현
- 상속보다 유연한 확장성을 가짐
- 지속적인 서비스의 증가와 제거가 용이함



